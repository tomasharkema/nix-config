{
  "nix.enableLanguageServer": true,
  "nix.serverPath": "nil",
  // "nix.serverPath": "nixd",
  "nix.serverSettings": {
    // "nil": {
    //   "formatting": {
    //     "command": [
    //       "alejandra"
    //     ]
    //   },
    //   "nix": {
    //     "maxMemoryMB": 4096,
    //     "flake": {
    //       "autoArchive": true,
    //       "autoEvalInputs": true
    //     }
    //   }
    // },
    "nixd": {
      "eval": {
        "target": {
          // tweak arguments here
          "args": [
            // "-f",
            // "default.nix"
          ],
          // NixOS options
          "installable": ".#nixosConfigurations.euro-mir-2.options"
          // Flake-parts options
          // "installable": "<flakeref>#debug.options"
          // Home-manager options
          // "installable": "<flakeref>#homeConfigurations.<name>.options"
        }
      },
      "formatting": {
        "command": "nixfmt"
      },
      "options": {
        "enable": true,
        "target": {
          // tweak arguments here
          "args": [
            "-f",
            "default.nix"
          ],
          // NixOS options
          "installable": "nixosConfigurations.euro-mir-2.options"
          // Flake-parts options
          // "installable": "<flakeref>#debug.options"
          // Home-manager options
          // "installable": "<flakeref>#homeConfigurations.<name>.options"
        }
      }
    }
  },
  "nix.formatterPath": "nixfmt",
  // "nixEnvSelector.nixFile": "${workspaceFolder}/shell.nix",
  "[nix]": {
    "editor.defaultFormatter": "brettm12345.nixfmt-vscode",
    // "editor.formatOnPaste": true,
    "editor.formatOnSave": true,
    "editor.formatOnType": false
  },
  // "nixEnvSelector.nixFile": "${workspaceRoot}/flake.nix"
}